!function t(e,i,n){function r(a,s){if(!i[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[a]={exports:{}};e[a][0].call(c.exports,function(t){var i=e[a][1][t];return r(i?i:t)},c,c.exports,t,e,i,n)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(t,e,i){for(var n=!0;n;){var r=t,o=e,a=i;n=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=o,i=a,n=!0,s=u=void 0}},s=t("states/Boot"),l=n(s),u=t("states/Preload"),c=n(u),h=t("states/GameTitle"),f=n(h),d=t("states/Main"),g=n(d),p=t("states/GameOver"),m=n(p),y=function(t){function e(){r(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,window.innerWidth*window.devicePixelRatio,window.innerHeight*window.devicePixelRatio,Phaser.AUTO),this.state.add("Boot",l["default"],!1),this.state.add("Preload",c["default"],!1),this.state.add("GameTitle",f["default"],!1),this.state.add("Main",g["default"],!1),this.state.add("GameOver",m["default"],!1),this.state.start("Boot")}return o(e,t),e}(Phaser.Game);new y},{"states/Boot":4,"states/GameOver":5,"states/GameTitle":6,"states/Main":7,"states/Preload":8}],2:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(e,i){n(this,t),this.game=e,this.dayLength=i,this.shading=!1,this.sunSprite=!1,this.moonSprite=!1}return r(t,[{key:"initSun",value:function(t){this.sunSprite=t,this.sunset(t)}},{key:"initMoon",value:function(t){this.moonSprite=t,this.moonrise(t)}},{key:"initShading",value:function(t){this.shading=t}},{key:"sunrise",value:function(t){var e=this;t.position.x=this.game.width-this.game.width/4,this.sunTween=this.game.add.tween(t).to({y:-250},this.dayLength,null,!0),this.sunTween.onComplete.add(this.sunset,this),this.shading&&this.shading.forEach(function(t){e.tweenTint(t.sprite,t.from,t.to,e.dayLength)})}},{key:"sunset",value:function(t){var e=this;t.position.x=50,this.sunTween=this.game.add.tween(t).to({y:this.game.world.height},this.dayLength,null,!0),this.sunTween.onComplete.add(this.sunrise,this),this.shading&&this.shading.forEach(function(t){e.tweenTint(t.sprite,t.to,t.from,e.dayLength)})}},{key:"moonrise",value:function(t){t.position.x=this.game.width-this.game.width/4,this.moonTween=this.game.add.tween(t).to({y:-350},this.dayLength,null,!0),this.moonTween.onComplete.add(this.moonset,this)}},{key:"moonset",value:function(t){t.position.x=50,this.moonTween=this.game.add.tween(t).to({y:this.game.world.height},this.dayLength,null,!0),this.moonTween.onComplete.add(this.moonrise,this)}},{key:"tweenTint",value:function(t,e,i,n){var r={step:0};this.game.add.tween(r).to({step:100},n,Phaser.Easing.Default,!1).onUpdateCallback(function(){t.tint=Phaser.Color.interpolateColor(e,i,100,r.step,1)}).start()}}]),t}();i["default"]=o,e.exports=i["default"]},{}],3:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(e){n(this,t),this.game=e}return r(t,[{key:"addFog",value:function(){var t=this.game.add.bitmapData(this.game.width,this.game.height);t.ctx.rect(0,0,this.game.width,this.game.height),t.ctx.fillStyle="#b2ddc8",t.ctx.fill(),this.fogSprite=this.game.add.sprite(0,0,t),this.fogSprite.alpha=0,this.game.add.tween(this.fogSprite).to({alpha:.7},6e3,null,!0)}},{key:"removeFog",value:function(){var t=this,e=this.game.add.tween(this.fogSprite).to({alpha:0},6e3,null,!0);e.onComplete.add(function(){t.fogSprite.kill()},this)}},{key:"addRain",value:function(){var t=this.game.add.bitmapData(15,50);t.ctx.rect(0,0,15,50),t.ctx.fillStyle="#9cc9de",t.ctx.fill(),this.emitter=this.game.add.emitter(this.game.world.centerX,-300,400),this.emitter.width=this.game.world.width,this.emitter.angle=10,this.emitter.makeParticles(t),this.emitter.minParticleScale=.1,this.emitter.maxParticleScale=.3,this.emitter.setYSpeed(600,1e3),this.emitter.setXSpeed(-5,5),this.emitter.minRotation=0,this.emitter.maxRotation=0,this.emitter.start(!1,1600,5,0)}},{key:"removeRain",value:function(){this.emitter.kill()}}]),t}();i["default"]=o,e.exports=i["default"]},{}],4:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var r=t,o=e,a=i;n=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=o,i=a,n=!0,s=u=void 0}},s=function(t){function e(){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return r(e,t),o(e,[{key:"preload",value:function(){}},{key:"create",value:function(){this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.state.start("Preload")}}]),e}(Phaser.State);i["default"]=s,e.exports=i["default"]},{}],5:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var r=t,o=e,a=i;n=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=o,i=a,n=!0,s=u=void 0}},s=function(t){function e(){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return r(e,t),o(e,[{key:"create",value:function(){}},{key:"restartGame",value:function(){this.game.state.start("Main")}}]),e}(Phaser.State);i["default"]=s,e.exports=i["default"]},{}],6:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var r=t,o=e,a=i;n=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=o,i=a,n=!0,s=u=void 0}},s=function(t){function e(){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return r(e,t),o(e,[{key:"create",value:function(){}},{key:"startGame",value:function(){this.game.state.start("Main")}}]),e}(Phaser.State);i["default"]=s,e.exports=i["default"]},{}],7:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(t,e,i){for(var n=!0;n;){var r=t,o=e,a=i;n=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=o,i=a,n=!0,s=u=void 0}},l=t("objects/DayCycle"),u=n(l),c=t("objects/Weather"),h=n(c),f=function(t){function e(){r(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return o(e,t),a(e,[{key:"create",value:function(){this.logOffset=0,this.createBackground(),this.createBoard()}},{key:"createBoard",value:function(){var t=this;t.guessing=!1,t.currentWord=[],t.correctWords=[],t.score=0,t.scoreBuffer=0,t.remainingTime=6e3,t.fullTime=6e3,t.tileLetters=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.tileColors=["#a8bc95"],t.tileWidth=150,t.tileHeight=150,t.selectBuffer=t.tileWidth/8,t.tiles=t.game.add.group(),t.tileGrid=[[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,"o","u","s"],[null,null,null,"h",null,"e"]],t.boardWidth=t.tileGrid[0].length*t.tileWidth,t.boardHeight=t.tileGrid.length*t.tileHeight,t.leftBuffer=(t.game.width-t.boardWidth)/2,t.topBuffer=(t.game.height-t.boardHeight)/2;var e=Date.now();t.random=new Phaser.RandomDataGenerator([e]),t.initTiles(),t.createScore(),t.createTimer(),t.game.input.onDown.add(function(){t.guessing=!0},t),t.game.input.onUp.add(function(){t.guessing=!1},t),t.gameTimer=t.game.time.events.loop(100,function(){t.updateTimer()})}},{key:"updateBoard",value:function(){var t=this;if(t.scoreBuffer>0&&(t.incrementScore(),t.scoreBuffer--),t.remainingTime<1&&t.game.state.restart(),t.guessing){var e=t.game.input.x,i=t.game.input.y,n=Math.floor((e-t.leftBuffer)/t.tileWidth),r=Math.floor((i-t.topBuffer)/t.tileHeight);if(n>=0&&n<t.tileGrid[0].length&&r>=0&&r<t.tileGrid.length){var o=t.tileGrid[n][r],a=t.leftBuffer+n*t.tileWidth,s=t.leftBuffer+n*t.tileWidth+t.tileWidth,l=t.topBuffer+r*t.tileHeight,u=t.topBuffer+r*t.tileHeight+t.tileHeight;!o.isActive&&e>a+t.selectBuffer&&e<s-t.selectBuffer&&i>l+t.selectBuffer&&i<u-t.selectBuffer&&(o.isActive=!0,o.tint=177215,t.currentWord.push(o),console.log(o.tileLetter))}}else if(t.currentWord.length>0){for(var c="",h=0;h<t.currentWord.length;h++)c+=t.currentWord[h].tileLetter,t.currentWord[h].isActive=!1,t.currentWord[h].tint=16777215;if(t.game.cache.getText("dictionary").indexOf(" "+c+" ")>-1&&c.length>1)t.correctWords.indexOf(c)==-1&&(console.log("correct!"),this.wordLabel.addColor("#00FF00",0),this.wordLabel.text=c,this.logWord(c),t.scoreBuffer+=10*c.length,t.correctWords.push(c));else{console.log("incorrect!");this.wordLabel.addColor("#FF0000",0),this.wordLabel.text=c}t.currentWord=[]}}},{key:"initTiles",value:function(){for(var t=0;t<this.tileGrid.length;t++)for(var e=0;e<this.tileGrid.length;e++){var i=this.addTile(t,e);this.tileGrid[t][e]=i}}},{key:"addTile",value:function(t,e){var i=this.tileGrid[t][e];null===i&&(i=this.tileLetters[this.random.integerInRange(0,this.tileLetters.length-1)]);var n=this.tileColors[this.random.integerInRange(0,this.tileColors.length-1)],r=this.createTile(i,n),o=this.tiles.create(this.leftBuffer+t*this.tileWidth+this.tileWidth/2,0,r);return this.game.add.tween(o).to({y:this.topBuffer+(e*this.tileHeight+this.tileHeight/2)},500,Phaser.Easing.Linear.In,!0),o.anchor.setTo(.5,.5),o.tileLetter=i,o}},{key:"createTile",value:function(t,e){var i=this.game.add.bitmapData(this.tileWidth,this.tileHeight);return i.ctx.rect(5,5,this.tileWidth-5,this.tileHeight-5),i.ctx.fillStyle=e,i.ctx.fill(),i.ctx.font="60px Arial",i.ctx.weight="bold",i.ctx.textAlign="center",i.ctx.textBaseline="middle",i.ctx.fillStyle="#fff","#ffffff"==e&&(i.ctx.fillStyle="#000000"),i.ctx.fillText(t,this.tileWidth/2,this.tileHeight/2),i}},{key:"createScore",value:function(){var t={font:"100px Arial",align:"center",fill:"#ffffff",stroke:"#535353",strokeThickness:15};this.scoreLabel=this.game.add.text(this.game.world.centerX,this.topBuffer+10+this.tileGrid.length*this.tileHeight,"0",t),this.scoreLabel.anchor.setTo(.5,0),this.wordLabel=this.game.add.text(this.game.world.centerX,this.topBuffer-140,"",t),this.wordLabel.anchor.setTo(.5,0)}},{key:"logWord",value:function(t){var e={font:"38px Arial",align:"left",fill:"#ffffff",stroke:"#535353",strokeThickness:2};this.worldLog=this.game.add.text(this.game.world.centerX+this.tileGrid.length*(this.tileWidth/2)+60,this.topBuffer+40+this.logOffset,t,e),this.worldLog.anchor.setTo(.5,0),this.logOffset+=40}},{key:"incrementScore",value:function(){this.score+=1,this.scoreLabel.text=this.score}},{key:"createTimer",value:function(){this.timeBar=this.game.add.bitmapData(this.game.width,50),this.timeBar.ctx.rect(0,0,this.game.width,50),this.timeBar.ctx.fillStyle="#4c7227",this.timeBar.ctx.fill(),this.timeBar=this.game.add.sprite(0,0,this.timeBar),this.timeBar.cropEnabled=!0}},{key:"updateTimer",value:function(){this.remainingTime-=10;var t=new Phaser.Rectangle(0,0,this.remainingTime/this.fullTime*this.game.width,this.timeBar.height);this.timeBar.crop(t)}},{key:"update",value:function(){this.mountainsBack.tilePosition.x-=.05,this.mountainsMid1.tilePosition.x-=.3,this.mountainsMid2.tilePosition.x-=.75,this.updateBoard()}},{key:"createBackground",value:function(){this.game.physics.startSystem(Phaser.Physics.ARCADE),this.game.stage.backgroundColor="#000",this.dayCycle=new u["default"](this.game,12e4),this.weather=new h["default"](this.game);var t=this.game.add.bitmapData(this.game.width,this.game.height);t.ctx.rect(0,0,this.game.width,this.game.height),t.ctx.fillStyle="#b2ddc8",t.ctx.fill(),this.backgroundSprite=this.game.add.sprite(0,0,t),this.sunSprite=this.game.add.sprite(50,-250,"sun"),this.moonSprite=this.game.add.sprite(this.game.width-this.game.width/4,this.game.height+500,"moon"),this.mountainsBack=this.game.add.tileSprite(0,this.game.height-this.game.cache.getImage("mountains-back").height,this.game.width,this.game.cache.getImage("mountains-back").height,"mountains-back"),this.mountainsMid1=this.game.add.tileSprite(0,this.game.height-this.game.cache.getImage("mountains-mid1").height,this.game.width,this.game.cache.getImage("mountains-mid1").height,"mountains-mid1"),this.mountainsMid2=this.game.add.tileSprite(0,this.game.height-this.game.cache.getImage("mountains-mid2").height,this.game.width,this.game.cache.getImage("mountains-mid2").height,"mountains-mid2");var e=[{sprite:this.backgroundSprite,from:2042407,to:11722184},{sprite:this.mountainsBack,from:3096635,to:9882811},{sprite:this.mountainsMid1,from:2635314,to:9157804},{sprite:this.mountainsMid2,from:2108200,to:8564125}];this.dayCycle.initShading(e),this.dayCycle.initSun(this.sunSprite),this.dayCycle.initMoon(this.moonSprite),this.weather.addRain()}}]),e}(Phaser.State);i["default"]=f,e.exports=i["default"]},{"objects/DayCycle":2,"objects/Weather":3}],8:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,e,i){for(var n=!0;n;){var r=t,o=e,a=i;n=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;t=u,e=o,i=a,n=!0,s=u=void 0}},s=function(t){function e(){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return r(e,t),o(e,[{key:"preload",value:function(){this.game.load.image("mountains-back","assets/mountains-back.png"),this.game.load.image("mountains-mid1","assets/mountains-mid1.png"),this.game.load.image("mountains-mid2","assets/mountains-mid2.png"),this.game.load.image("sun","assets/sun.png"),this.game.load.image("moon","assets/moon.png"),this.game.load.text("dictionary","assets/dictionary.txt")}},{key:"create",value:function(){this.game.state.start("Main")}},{key:"init",value:function(){var t={font:"32px Arial",fill:"#ffffff",align:"center"};this.text=this.add.text(this.game.world.centerX,this.game.world.centerY,"Loading: 0%",t),this.text.anchor.x=.5}},{key:"fileLoaded",value:function(t){this.text.text="Loading: "+t+"%"}}]),e}(Phaser.State);i["default"]=s,e.exports=i["default"]},{}]},{},[1]);